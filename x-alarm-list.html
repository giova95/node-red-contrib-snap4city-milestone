<script type="text/javascript">
    RED.nodes.registerType('xalarm-list', {
        category: 'S4CXprotect',
        color: '#fde910',
        icon: 'icons/logocam.png',
        inputs: 1,
        outputs: 1,
        label: function () {
            return this.name || 'Print Alarm or Event List From XProtect';
        },
        defaults: {
            name: { type: "text" },
            guid: { type: "text" },
            hostname: { type: 'text' },
            port: { type: "text" },
        }
    });
</script>

<script type="text/html" data-template-name="xalarm-list">
    <div class="form-row">
        <label for="node-input-maxLines"><i class="fa fa-tag"></i> Max lines</label>
        <input type="text" id="node-input-maxLines" placeholder="Max lines">
    </div>
    <div class="form-row">
        <label for="node-input-guid"><i class="fa fa-tag"></i> Order</label>
        <input type="text" id="node-input-guid" placeholder="Order">
    </div>
    <div class="form-row">
        <label for="node-input-hostname"><i class="fa fa-tag"></i> Target</label>
        <input type="text" id="node-input-hostname" placeholder="Target">
    </div>
</script>

<script type="text/x-red" data-help-name="service-search">
    <p>With this node you can send an event to the event server and trigger an Alarm with the possibility to activate a rule associated with it.</p>
    
    <h3>Inputs</h3>
    <p>A JSON with these parameters:</p>
    
    <dl class="message-properties">
       <dt>Max Lines
           <span class="property-type">string</span>
       </dt>
       <dd>Max lines of alarm to display from the event server</dd>
       
       <dt>Order
           <span class="property-type">string</span>
       </dt>
       <dd>The sorting type for the alarms.(Basically descending/ascending).</dd>
       
       <dt>Target
            <span class="property-type">string</span>
       </dt>
       <dd>The target property of the sorting for the alarms. They're displayed with a drop-down menu</dd>

    <h3>Outputs</h3>
     <dl class="message-properties">
         <dd>A JSON file containing an alarm list received from the event server</dd>
     </dl>
     
    <h3>Details</h3>
     <p>The node can receive the parameters described in the Inputs section, with them generates a XML file with which a SOAP request is sent to the event server. 
        A server response with the alarm list generates the output JSON. If the values are not present in the input JSON, these are read by those in the configuration. 
        If they are not present in either part or are wrong, an error is generated for the necessary parameters or the reason why are not correct.</p>
</script>